# Проект Прескоринга Клиентов

## Цель проекта
Разработка сервиса прескоринга клиентов с функционалом дополнительной клиентской аналитики для повышения конверсии. Основная цель - создание алгоритма пре-скоринга по анкетам клиентов, выдача оптимальных предложений и объяснение решений пре-скоринга.

## Основные задачи
- EDA (Exploratory Data Analysis).
- Выбор и тестирование моделей.
- Тюнинг моделей.
- Разработка API.
- Создание MVP (Minimum Viable Product).

## Описание решения

### 1.1 Концепция IT-решения
Разработка решения для пре-скоринга клиентских анкет с целью сбора дополнительной аналитики и улучшения маркетинговых кампаний.

### 1.2 План реализации
Разделение плана реализации на три этапа: начальный анализ данных, поиск оптимального алгоритма и разработка проекта.

### 1.3 Технологии
- RESTful сервис.
- Fast-API для разработки API.
- Docker/Docker-compose для развертывания.
- Pandas, NumPy, Scikit-learn для анализа данных.
- RandomForest, XGBoost, Нейронные сети для моделирования.
- SQLite / PostgreSQL для баз данных.

## Требования к системе
Включают в себя входные данные, ответы от банка, факторы, влияющие на решения банка, и требования к интерфейсу.

## Команда и план действий
- Андрей Толстых - руководитель команды, ML, аналитик данных
- Вадим Ахметов - ML-инженер, аналитик данных
- Дмитрий Акинин - защита проекта, подготовка документации, сбор и анализ данных
- Илья Колосов - ML, аналитик данных
- Ирамаль Искужин - бекенд-разработчик, аналитик данных


## Оценка рисков
Возможны следующие риски:
- **Точность прогнозирования**: Если алгоритмы машинного обучения, используемые для прескоринга, не достаточно точны, это может привести к неправильной оценке кредитоспособности клиентов, что, в свою очередь, может привести к неправильным решениям о выдаче кредитов.

- **Безопасность** данных: Система будет обрабатывать большое количество чувствительных данных клиентов. Любой утечка или несанкционированный доступ к этим данным может привести к значительным репутационным и финансовым потерям.

- **Соответствие нормативным требованиям**: Необходимо убедиться, что система соответствует всем действующим нормативно-правовым требованиям, включая законы о защите данных.

- **Зависимость от внешних данных**: Точность прогнозов зависит от качества и актуальности входных данных. Любые недостатки в данных могут негативно сказаться на результатах работы системы.

- **Технические сбои и нарушения работы системы**: В случае технических сбоев или проблем с поддержанием работы системы, это может привести к задержкам в обработке кредитных заявок и, как следствие, к потере клиентов и доходов.

- **Адаптация к изменениям рыночной среды**: Система должна быть гибкой и способной адаптироваться к изменениям в экономической ситуации, которые могут влиять на кредитоспособность клиентов.

- **Управление изменениями**: Внедрение новой системы требует изменений в рабочих процессах, что может вызвать сопротивление среди сотрудников банка и потребует дополнительных ресурсов на обучение и адаптацию.

- **Этические и социальные риски**: Использование алгоритмов машинного обучения может порождать вопросы этики и справедливости, особенно если алгоритмы приводят к дискриминации определенных групп клиентов.

- **Зависимость от внешних поставщиков и партнеров**: Если система интегрирована с внешними сервисами или зависит от внешних поставщиков, существует риск, что проблемы у этих партнеров могут негативно сказаться на работе системы.

- **Финансовые риски**: Разработка и поддержка системы требуют значительных инвестиций, и существует риск, что эти инвестиции могут не окупиться, если система не принесет ожидаемых результатов.


Этапы:

- **начальный анализ**
- **выбор и оптимизация алгоритмов**
- **разработка и запуск сервиса**

## Заключение
Обзор достижений и преимуществ предложенного решения, включая оптимизацию процесса выдачи кредитов и улучшение клиентского сервиса.

## Литература
- ГОСТ 34.602-2020: Межгосударственный стандарт по информационным технологиям.

## Термины
- БД (База данных)

## Начало работы
Инструкции по настройке окружения для скачивания и запуска проекта локально.

### Сборка контейнеров
1. Перейти в директорию `src` (`cd <...>/urfum_hack_3/src/`).
2. Построить образ для API: `docker build -t urfum/prescoring_api -f DockerfileApi .`.
3. Построить образ для WORKER: `docker build -t urfum/prescoring_worker -f DockerfileWorker .`.
4. Запустить образы с учетом проброса портов из Docker наружу.
5. Стартовать API: `docker run -it --rm -p 8000:8000 -d -v <путь до репозитория>\urfum_hack_3\src\data:/prescoring_api/data --name precsoring-api urfum/prescoring_api`.
6. Стартовать Worker: `docker run -it --rm -d -v <путь до репозитория>\urfum_hack_3\src\data:/worker/data --name precsoring-w1 urfum/prescoring_worker`.

> **Примечание**: Воркеры запускаются только **после** запуска API. В противном случае базы данных не инициализируются.

### Размеры образов
- API ~ 180 Mb образ.
- Worker ~ 1.3 Gb образ.

## Использование
Сервис доступен до 16.12.2023 на `http://sgorynych.pro:8000/`. При заходе на основной эндпоинт (`/` или `http://sgorynych.pro:8000/`) происходит редирект на документацию API.

### Тестирование
Используйте любой генератор запросов (например, Postman, curl) для тестирования.

### Схема работы сервиса
1. **Отправка данных**: POST-запрос к `/upload_features`.
2. **Опрос состояния**: GET-запрос к `/check_state`.
3. **Получение пре-скоринга**: GET-запрос к `/get_result`.

### BONUS
API настраивается через конфигурационные файлы, позволяя изменять количество банков, используемые фичи, хост, порт API и расположение БД. Файлы конфигурации находятся в `src/configs`.
